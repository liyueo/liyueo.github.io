---
layout:     post
title:      grpc
subtitle:   grpc-20240506
date:       2024-05-06
author:     BY
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - grpc
    - protobuf
---


### protoc编译命令

```bash
protoc -I=. --grpc_out=. --cpp_out=. --plugin=protoc-gen-grpc=/usr/local/bin/grpc_cpp_plugin demo.proto
```
生成文件
demo.grpc.pb.cc
demo.grpc.pb.h
demo.pb.cc
demo.pb.h

指定 --grpc_out 会多生成 有关grpc的文件

## 面试常问问题，，
1. gRPC四种通信模式
2. KeepAlived发送的是什么HTTP2帧
3. KeepAlived是针对Connection 还是 Stream
4. HTTP2有哪些类型帧，各有什么作用
5. 什么是拦截器，拦截器有什么作用
6. 什么是Resolver，常见有哪些
7. 什么是Balance，常见有哪些
8. Resolver 与 Balance 关系
9. 健康检查状态有哪些
10. 健康检查失败是阻塞 还是 返回失败
11. 什么是连接的fast fail
12. 失败重试的策略有哪些，各有什么特点
13. 限制重试策略是什么，什么是Pushback
14. 什么是多路复用，为什么gRPC能支持多路复用
15. gRPC、HTTP2、Stream 之间的关系是什么
16. gRPC流量控制策略有哪些，各有什么特点，有什么差别
17. gRPC高性能的原因是什么
18. gRPC调试、监控方法有哪些
19. 什么是metadata，客户端、服务端能够携带metadata的帧有哪些
20.简述从客户端创建Stream 到 调用远程服务结束、关闭Stream的流程
21. gRPC 默认是否有压缩算法，系统默认支持哪些压缩算法，压缩算法的配置受到哪些因素影响
22. connection有哪些状态
23.如何能够获取服务端的Service List、File Descriptor等
24.健康检查服务端是否要重新定义proto文件、定义远程方法
25. 健康检查与负载均衡策略的关系？默认的负载均衡策略可否应用健康检查
26. Stream的Send方法是否线程安全，Stream的Send方法与Recv方法是否协程安全？
27. 简述Stream流量控制，客户端与服务端完整处理流程，包括配额管理
28. 当connection中断后，如何确定连接已经建立完成 再调用远程服务？
29. 什么是HEADERS TRAILER 帧，什么时候回发送该帧
30. 客户端与服务端如何同步压缩算法
31. 客户端与服务端发送http帧之前需要经过哪些处理（controlbuf）
32. 如何配置gRPC TLS 双向认证
33. 客户端TLS Config 中Service Name 有什么作用
34. GOAWAY帧由谁发起，什么含义
35. Backoff是什么，有哪些模块处理使用Backoff
36. connection 创建及失败重连流程
37. RPC调用失败的三种情况
38. BinaryLog日志作用
39. 客户端建立connection全流程
40. gRPC是否实现连接池，为什么？
教程不涉及的问题：
41. 你在使用gRPC遇到的问题？
42. 在解决实际问题中做过哪些优化？
43.用过哪些gRPC生态组件？
